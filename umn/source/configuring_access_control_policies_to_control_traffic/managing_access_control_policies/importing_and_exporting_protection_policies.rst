:original_name: cfw_01_0129.html

.. _cfw_01_0129:

Importing and Exporting Protection Policies
===========================================

You can add and export protection rules, blacklist/whitelist items, IP address groups, domain name groups, and service groups in batches.

Specification Limitations
-------------------------

To import and export VPC border protection policies, use the **Professional** edition.

Importing Protection Rules in Batches
-------------------------------------

#. Log in to the management console.
#. In the navigation pane on the left, click |image1| and choose **Security** > **Cloud Firewall**. The **Dashboard** page will be displayed.
#. (Optional) Switch to another firewall instance: Select a firewall from the drop-down list in the upper left corner of the page.
#. In the navigation pane, choose **Access Control** > **Access Policies**.
#. Click **Download Center** on the upper right corner of the list.
#. Click **Download Template** to download the rule import template to the local host.
#. Configure protection policy information as required.

   -  Protection rule parameters:

      -  For details about Internet border protection rule parameters, see :ref:`Parameters of Rule Import Template - Rule-Acl-Table (Internet Border Protection Rules) <cfw_01_0129__section738713134471>`.
      -  For details about VPC border protection rule parameters, see :ref:`Parameters of Rule Import Template - Vpc-Rule-Acl-Table (VPC Border Protection Rule) <cfw_01_0129__section16691542194717>`.

   -  For details about the blacklist and whitelist parameters, see :ref:`Adding Blacklist or Whitelist Items to Block or Allow Traffic <cfw_01_0065>`.
   -  For details about IP address group parameters, see :ref:`Adding User-defined IP Addresses and Address Groups <cfw_01_0068>`.
   -  For details about service group parameters, see :ref:`Adding a User-defined Service Group <cfw_01_0070>`.
   -  For details about domain name group parameters, see :ref:`Domain Name Management <cfw_01_0182>`.

      .. important::

         -  A maximum of 640 rules and members can be imported at a time on each tab page.
         -  Do not change the template file format, or it may fail to be imported.

#. After filling in the template, click **Import Rule** to import the template.

   .. note::

      -  Rule import takes several minutes.
      -  During rule import, you cannot add, edit, or delete access policies, IP address groups, and service groups.
      -  The priority of the imported policies is lower than that of the created policies.

#. Click **Download Center** to view the status of the rule import task. If the **Status** is **Imported**, the import succeeded.
#. Return to the protection rule list to view the imported protection rule.

Exporting Protection Rules in Batches
-------------------------------------

#. Log in to the management console.
#. In the navigation pane on the left, click |image2| and choose **Security** > **Cloud Firewall**. The **Dashboard** page will be displayed.
#. (Optional) Switch to another firewall instance: Select a firewall from the drop-down list in the upper left corner of the page.
#. In the navigation pane, choose **Access Control** > **Access Policies**.
#. Click **Download Center** on the upper right corner of the list.
#. Click **Export Rule** to export rules to a local PC.

.. _cfw_01_0129__section738713134471:

Parameters of Rule Import Template - Rule-Acl-Table (Internet Border Protection Rules)
--------------------------------------------------------------------------------------

.. table:: **Table 1** Internet border protection rule table parameters

   +---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | Parameter                             | Description                                                                                                                                                                                                      | Example Value         |
   +=======================================+==================================================================================================================================================================================================================+=======================+
   | Order                                 | Order number of a rule.                                                                                                                                                                                          | 1                     |
   +---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | Acl Name                              | Name of the rule.                                                                                                                                                                                                | test                  |
   +---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | Protection Rule                       | Protection type of a security policy.                                                                                                                                                                            | EIP protection        |
   |                                       |                                                                                                                                                                                                                  |                       |
   |                                       | -  **EIP protection**: Protect EIP traffic. Only EIPs can be configured.                                                                                                                                         |                       |
   |                                       | -  **NAT protection**: Protect NAT traffic. Private IP addresses can be configured.                                                                                                                              |                       |
   +---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | Direction                             | Direction of protected traffic.                                                                                                                                                                                  | Outbound              |
   |                                       |                                                                                                                                                                                                                  |                       |
   |                                       | -  **Inbound**: Traffic from external networks to the internal server.                                                                                                                                           |                       |
   |                                       | -  **Outbound**: Traffic from the customer server to external networks.                                                                                                                                          |                       |
   +---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | Action Type                           | **Allow** or **Block**. It specifies the action taken by the firewall to process traffic.                                                                                                                        | Allow                 |
   +---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | ACL Address Type                      | Select **IPv4**. It is the type of IP addresses to be protected.                                                                                                                                                 | IPv4                  |
   +---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | Status                                | Whether a policy is enabled.                                                                                                                                                                                     | Enabled               |
   |                                       |                                                                                                                                                                                                                  |                       |
   |                                       | -  **Enable**: The rule is enabled.                                                                                                                                                                              |                       |
   |                                       | -  **Disabled**: The rule is not in effect.                                                                                                                                                                      |                       |
   +---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | Description                           | Rule description                                                                                                                                                                                                 | test                  |
   +---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | Source Address Type                   | Source address type of data packets in the access traffic.                                                                                                                                                       | IP Address            |
   |                                       |                                                                                                                                                                                                                  |                       |
   |                                       | -  **IP Address**. You can configure a single IP address, consecutive IP addresses, or an IP address segment.                                                                                                    |                       |
   |                                       | -  **IP Address Group**. You can configure multiple IP addresses.                                                                                                                                                |                       |
   |                                       | -  **Region**: Protection can be performed by region.                                                                                                                                                            |                       |
   +---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | Source Address                        | If **Source Address Type** is set to **IP Address**, you need to configure this parameter.                                                                                                                       | 192.168.10.5          |
   |                                       |                                                                                                                                                                                                                  |                       |
   |                                       | The following input formats are supported:                                                                                                                                                                       |                       |
   |                                       |                                                                                                                                                                                                                  |                       |
   |                                       | -  A single IP address, for example, **192.168.10.5**                                                                                                                                                            |                       |
   |                                       | -  Consecutive IP addresses, for example, **192.168.0.2-192.168.0.10**                                                                                                                                           |                       |
   |                                       | -  A single address segment, for example, **192.168.2.0/24**                                                                                                                                                     |                       |
   |                                       |                                                                                                                                                                                                                  |                       |
   |                                       | .. note::                                                                                                                                                                                                        |                       |
   |                                       |                                                                                                                                                                                                                  |                       |
   |                                       |    To specify multiple IP addresses or IP address segments, configure multiple rules. Specify different IP addresses (segments) in these rules but use the same settings for other parameters.                   |                       |
   +---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | Source Address Group Name             | If **Source Address Type** is set to **IP Address Group**, you must configure this parameter.                                                                                                                    | s_test                |
   +---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | Source Continent Region               | If **Source Address Type** is set to **Region**, you need to configure **Source Continent Region**.                                                                                                              | AS: Asia              |
   |                                       |                                                                                                                                                                                                                  |                       |
   |                                       | Enter continent information based on the **continent-region-info** sheet.                                                                                                                                        |                       |
   +---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | Source Country Region                 | If **Source Address Type** is set to **Region**, you need to configure **Source Country Region**.                                                                                                                | DE: Germany           |
   |                                       |                                                                                                                                                                                                                  |                       |
   |                                       | Enter country and region information based on the **country-region-info** sheet.                                                                                                                                 |                       |
   +---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | Destination Address Type              | Destination address type of data packets in the access traffic.                                                                                                                                                  | IP Address Group      |
   |                                       |                                                                                                                                                                                                                  |                       |
   |                                       | -  **IP Address**. You can configure a single IP address, consecutive IP addresses, or an IP address segment.                                                                                                    |                       |
   |                                       | -  **IP Address Group**. You can configure multiple IP addresses.                                                                                                                                                |                       |
   |                                       | -  **Domain name**: A domain name consists of letters separated by dots (.). It is a human readable address that maps to the machine readable IP address of your server.                                         |                       |
   +---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | Destination Address                   | If **Destination Address Type** is set to **IP Address**, you must configure this parameter.                                                                                                                     | 192.168.10.6          |
   |                                       |                                                                                                                                                                                                                  |                       |
   |                                       | It can be:                                                                                                                                                                                                       |                       |
   |                                       |                                                                                                                                                                                                                  |                       |
   |                                       | -  A single IP address, for example, **192.168.10.5**                                                                                                                                                            |                       |
   |                                       | -  Consecutive IP addresses, for example, **192.168.0.2-192.168.0.10**                                                                                                                                           |                       |
   |                                       | -  A single address segment, for example, **192.168.2.0/24**                                                                                                                                                     |                       |
   |                                       |                                                                                                                                                                                                                  |                       |
   |                                       | .. note::                                                                                                                                                                                                        |                       |
   |                                       |                                                                                                                                                                                                                  |                       |
   |                                       |    To specify multiple IP addresses or IP address segments, configure multiple rules. Specify different IP addresses (segments) in these rules but use the same settings for other parameters.                   |                       |
   +---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | Destination Address Group Name        | If **Destination Address Type** is set to **IP Address Group**, you must configure this parameter.                                                                                                               | d_test                |
   +---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | Destination Continent Region          | If **Destination Address Type** is set to **Region**, you need to set **Destination Continent Region**.                                                                                                          | AS: Asia              |
   |                                       |                                                                                                                                                                                                                  |                       |
   |                                       | Enter continent information based on the **continent-region-info** sheet.                                                                                                                                        |                       |
   +---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | Destination Country Region            | If **Destination Address Type** is set to **Region**, you need to set **Destination Country Region**.                                                                                                            | DE: Germany           |
   |                                       |                                                                                                                                                                                                                  |                       |
   |                                       | Enter country and region information based on the **country-region-info** sheet.                                                                                                                                 |                       |
   +---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | Domain Name                           | If **Destination Address Type** is set to **Domain Name**, you must configure this parameter.                                                                                                                    | www.example.com       |
   |                                       |                                                                                                                                                                                                                  |                       |
   |                                       | The domain name is used by visitors to access your website. A domain name consists of letters separated by dots (.). It is a human readable address that maps to the machine readable IP address of your server. |                       |
   +---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | Destination Domain Group Name         | If **Destination Address Type** is set to **Domain Group Name**, you need to configure **Destination Domain Group Name**.                                                                                        | Domain group 1        |
   |                                       |                                                                                                                                                                                                                  |                       |
   |                                       | Enter a domain group name.                                                                                                                                                                                       |                       |
   +---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | Service Type                          | Service type. It can be:                                                                                                                                                                                         | Service               |
   |                                       |                                                                                                                                                                                                                  |                       |
   |                                       | -  **Service**. You can configure a single service.                                                                                                                                                              |                       |
   |                                       | -  **Service Group**. You can configure multiple services.                                                                                                                                                       |                       |
   +---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | Protocol/Source Port/Destination Port | Type to be put under access control.                                                                                                                                                                             | TCP/443/443           |
   |                                       |                                                                                                                                                                                                                  |                       |
   |                                       | -  Its value can be **TCP**, **UDP**, **ICMP**, or **Any**.                                                                                                                                                      |                       |
   |                                       | -  Source ports to be allowed or blocked. You can configure a single port or consecutive port groups (example: **80-443**).                                                                                      |                       |
   |                                       | -  Destination ports to be allowed or blocked. You can configure a single port or consecutive port groups (example: **80-443**).                                                                                 |                       |
   +---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | Service Group Name                    | Service group name.                                                                                                                                                                                              | service_test          |
   +---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | Group Tag                             | Tags are used to identify rules. You can use tags to classify and search for security policies.                                                                                                                  | k=a                   |
   +---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+

.. _cfw_01_0129__section16691542194717:

Parameters of Rule Import Template - Vpc-Rule-Acl-Table (VPC Border Protection Rule)
------------------------------------------------------------------------------------

.. table:: **Table 2** VPC border protection rule table parameters

   +---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | Parameter                             | Description                                                                                                                                                                                    | Example Value         |
   +=======================================+================================================================================================================================================================================================+=======================+
   | Order                                 | Order number of a rule.                                                                                                                                                                        | 1                     |
   +---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | Acl Name                              | Name of the rule.                                                                                                                                                                              | test                  |
   +---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | Action Type                           | **Allow** or **Block**. It specifies the action taken by the firewall to process traffic.                                                                                                      | Allow                 |
   +---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | Status                                | Whether a policy is enabled.                                                                                                                                                                   | Enabled               |
   |                                       |                                                                                                                                                                                                |                       |
   |                                       | -  **Enabled**: The rule is in effect.                                                                                                                                                         |                       |
   |                                       | -  **Disabled**: The rule is not in effect.                                                                                                                                                    |                       |
   +---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | Description                           | Rule description                                                                                                                                                                               | test                  |
   +---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | Source Address Type                   | Source address type of data packets in the access traffic.                                                                                                                                     | IP Address            |
   |                                       |                                                                                                                                                                                                |                       |
   |                                       | -  **IP Address**. You can configure a single IP address, consecutive IP addresses, or an IP address segment.                                                                                  |                       |
   |                                       | -  **IP Address Group**. You can configure multiple IP addresses.                                                                                                                              |                       |
   +---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | Source Address                        | If **Source Address Type** is set to **IP Address**, you need to configure this parameter.                                                                                                     | 192.168.10.5          |
   |                                       |                                                                                                                                                                                                |                       |
   |                                       | The following input formats are supported:                                                                                                                                                     |                       |
   |                                       |                                                                                                                                                                                                |                       |
   |                                       | -  A single IP address, for example, **192.168.10.5**                                                                                                                                          |                       |
   |                                       | -  Consecutive IP addresses, for example, **192.168.0.2-192.168.0.10**                                                                                                                         |                       |
   |                                       | -  A single address segment, for example, **192.168.2.0/24**                                                                                                                                   |                       |
   |                                       |                                                                                                                                                                                                |                       |
   |                                       | .. note::                                                                                                                                                                                      |                       |
   |                                       |                                                                                                                                                                                                |                       |
   |                                       |    To specify multiple IP addresses or IP address segments, configure multiple rules. Specify different IP addresses (segments) in these rules but use the same settings for other parameters. |                       |
   +---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | Source Address Group Name             | If **Source Address Type** is set to **IP Address Group**, you must configure this parameter.                                                                                                  | s_test                |
   +---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | Destination Address Type              | Destination address type of data packets in the access traffic.                                                                                                                                | IP Address Group      |
   |                                       |                                                                                                                                                                                                |                       |
   |                                       | -  **IP Address**. You can configure a single IP address, consecutive IP addresses, or an IP address segment.                                                                                  |                       |
   |                                       | -  **IP Address Group**. You can configure multiple IP addresses.                                                                                                                              |                       |
   +---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | Destination Address                   | If **Destination Address Type** is set to **IP Address**, you must configure this parameter.                                                                                                   | 192.168.10.6          |
   |                                       |                                                                                                                                                                                                |                       |
   |                                       | It can be:                                                                                                                                                                                     |                       |
   |                                       |                                                                                                                                                                                                |                       |
   |                                       | -  A single IP address, for example, **192.168.10.5**                                                                                                                                          |                       |
   |                                       | -  Consecutive IP addresses, for example, **192.168.0.2-192.168.0.10**                                                                                                                         |                       |
   |                                       | -  A single address segment, for example, **192.168.2.0/24**                                                                                                                                   |                       |
   |                                       |                                                                                                                                                                                                |                       |
   |                                       | .. note::                                                                                                                                                                                      |                       |
   |                                       |                                                                                                                                                                                                |                       |
   |                                       |    To specify multiple IP addresses or IP address segments, configure multiple rules. Specify different IP addresses (segments) in these rules but use the same settings for other parameters. |                       |
   +---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | Destination Address Group Name        | If **Destination Address Type** is set to **IP Address Group**, you must configure this parameter.                                                                                             | d_test                |
   +---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | Service Type                          | Service type. It can be:                                                                                                                                                                       | Service               |
   |                                       |                                                                                                                                                                                                |                       |
   |                                       | -  **Service**. You can configure a single service.                                                                                                                                            |                       |
   |                                       | -  **Service Group**. You can configure multiple services.                                                                                                                                     |                       |
   +---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | Protocol/Source Port/Destination Port | Type to be put under access control.                                                                                                                                                           | TCP/443/443           |
   |                                       |                                                                                                                                                                                                |                       |
   |                                       | -  Its value can be **TCP**, **UDP**, **ICMP**, or **Any**.                                                                                                                                    |                       |
   |                                       | -  Source ports to be allowed or blocked. You can configure a single port or consecutive port groups (example: **80-443**).                                                                    |                       |
   |                                       | -  Destination ports to be allowed or blocked. You can configure a single port or consecutive port groups (example: **80-443**).                                                               |                       |
   +---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | Service Group Name                    | Service group name.                                                                                                                                                                            | service_test          |
   +---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | Group Tag                             | Tags are used to identify rules. You can use tags to classify and search for security policies.                                                                                                | k=a                   |
   +---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+

.. |image1| image:: /_static/images/en-us_image_0000001259322747.png
.. |image2| image:: /_static/images/en-us_image_0000001259322747.png
