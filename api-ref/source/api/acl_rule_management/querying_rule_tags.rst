:original_name: ListRuleAclTags.html

.. _ListRuleAclTags:

Querying Rule Tags
==================

Function
--------

This API is used to query rule tags.

URI
---

GET /v2/{project_id}/cfw-acl/tags

.. table:: **Table 1** Path Parameters

   +------------+-----------+--------+----------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter  | Mandatory | Type   | Description                                                                                                                            |
   +============+===========+========+========================================================================================================================================+
   | project_id | Yes       | String | Project ID, which can be obtained by calling an API or from the console. For details, see :ref:`Obtaining a Project ID <cfw_02_0015>`. |
   +------------+-----------+--------+----------------------------------------------------------------------------------------------------------------------------------------+

.. table:: **Table 2** Query Parameters

   +-----------------------+-----------+---------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter             | Mandatory | Type    | Description                                                                                                                                                                                                                                                                  |
   +=======================+===========+=========+==============================================================================================================================================================================================================================================================================+
   | enterprise_project_id | No        | String  | Enterprise project ID, which is the ID of a project planned based on organizations. You can obtain the enterprise project ID by referring to :ref:`Obtaining an Enterprise Project ID <cfw_02_0027>`. If the enterprise project function is not enabled, the value is **0**. |
   +-----------------------+-----------+---------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | fw_instance_id        | Yes       | String  | Firewall ID, which can be obtained by referring to :ref:`Obtaining a Firewall ID <cfw_02_0028>`.                                                                                                                                                                             |
   +-----------------------+-----------+---------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | offset                | Yes       | Integer | Offset, which specifies the start position of the record to be returned. The value must be a number no less than 0. The default value is **0**.                                                                                                                              |
   +-----------------------+-----------+---------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | limit                 | Yes       | Integer | Number of records displayed on each page. The value ranges from 1 to 1024.                                                                                                                                                                                                   |
   +-----------------------+-----------+---------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

Request Parameters
------------------

.. table:: **Table 3** Request header parameters

   +--------------+-----------+--------+---------------------------------------------------------------------------------------------------+
   | Parameter    | Mandatory | Type   | Description                                                                                       |
   +==============+===========+========+===================================================================================================+
   | X-Auth-Token | Yes       | String | User token. You can obtain the token by referring to :ref:`Obtaining a User Token <cfw_02_0029>`. |
   +--------------+-----------+--------+---------------------------------------------------------------------------------------------------+
   | Content-Type | Yes       | String | Content type. It can only be set to application/json.                                             |
   +--------------+-----------+--------+---------------------------------------------------------------------------------------------------+

Response Parameters
-------------------

**Status code: 200**

.. table:: **Table 4** Response body parameters

   +-----------+-----------------------------------------------------------------------------------------------+-----------------------+
   | Parameter | Type                                                                                          | Description           |
   +===========+===============================================================================================+=======================+
   | data      | :ref:`HttpGetAclTagResponseData <listruleacltags__response_httpgetacltagresponsedata>` object | Obtain rule tag data. |
   +-----------+-----------------------------------------------------------------------------------------------+-----------------------+

.. _listruleacltags__response_httpgetacltagresponsedata:

.. table:: **Table 5** HttpGetAclTagResponseData

   +-----------+-------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter | Type                                                              | Description                                                                                                                                     |
   +===========+===================================================================+=================================================================================================================================================+
   | offset    | Integer                                                           | Offset, which specifies the start position of the record to be returned. The value must be a number no less than 0. The default value is **0**. |
   +-----------+-------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------+
   | limit     | Integer                                                           | Number of records displayed on each page. The value ranges from 1 to 1024.                                                                      |
   +-----------+-------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------+
   | total     | Integer                                                           | Total number of rule tags.                                                                                                                      |
   +-----------+-------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------+
   | records   | Array of :ref:`TagsVO <listruleacltags__response_tagsvo>` objects | Rule tag list.                                                                                                                                  |
   +-----------+-------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------+

.. _listruleacltags__response_tagsvo:

.. table:: **Table 6** TagsVO

   ========= ====== ===============
   Parameter Type   Description
   ========= ====== ===============
   tag_id    String Rule tag ID.
   tag_key   String Rule tag key.
   tag_value String Rule tag value.
   ========= ====== ===============

Example Requests
----------------

Query the existing ACL tags of the firewall 546af3f8-88e9-47f2-a205-2346d7090925 in project 14181c1245cf4fd786824efe1e2b9388.

.. code-block::

   https://{Endpoint}/v2/14181c1245cf4fd786824efe1e2b9388/cfw-acl/tags?limit=1000&offset=0&fw_instance_id=546af3f8-88e9-47f2-a205-2346d7090925&enterprise_project_id=default

Example Responses
-----------------

**Status code: 200**

Return value for querying rule tags.

.. code-block::

   {
     "data" : {
       "limit" : 1000,
       "offset" : 0,
       "records" : [ {
         "tag_id" : "98fdf013-e7ad-4581-9c71-6de04c76a18f",
         "tag_key" : "1",
         "tag_value" : "1"
       }, {
         "tag_id" : "36e6fbfe-7fcd-48be-872b-4f6074e1e4e8",
         "tag_key" : "1",
         "tag_value" : "2"
       }, {
         "tag_id" : "0bf41046-6587-42f2-8399-a6864022b504",
         "tag_key" : "Test",
         "tag_value" : "Test"
       } ],
       "total" : 3
     }
   }

Status Codes
------------

=========== ====================================
Status Code Description
=========== ====================================
200         Return value for querying rule tags.
=========== ====================================

Error Codes
-----------

See :ref:`Error Codes <errorcode>`.
