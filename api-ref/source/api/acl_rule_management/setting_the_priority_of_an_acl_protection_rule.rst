:original_name: UpdateAclRuleOrder.html

.. _UpdateAclRuleOrder:

Setting the Priority of an ACL Protection Rule
==============================================

Function
--------

This API is used to set the priority of an ACL protection rule.

URI
---

PUT /v1/{project_id}/acl-rule/order/{acl_rule_id}

.. table:: **Table 1** Path Parameters

   +-------------+-----------+--------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter   | Mandatory | Type   | Description                                                                                                                                                                                                         |
   +=============+===========+========+=====================================================================================================================================================================================================================+
   | project_id  | Yes       | String | Project ID, which can be obtained by calling an API or from the console. For details, see :ref:`Obtaining a Project ID <cfw_02_0015>`.                                                                              |
   +-------------+-----------+--------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | acl_rule_id | Yes       | String | Rule ID, which can be obtained by calling the :ref:`API for querying protection rules <listaclrules>`. Find the value in **data.records.rule_id** (The period [.] is used to separate different levels of objects). |
   +-------------+-----------+--------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. table:: **Table 2** Query Parameters

   +-----------------------+-----------+--------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter             | Mandatory | Type   | Description                                                                                                                                                                                                                                                                  |
   +=======================+===========+========+==============================================================================================================================================================================================================================================================================+
   | enterprise_project_id | No        | String | Enterprise project ID, which is the ID of a project planned based on organizations. You can obtain the enterprise project ID by referring to :ref:`Obtaining an Enterprise Project ID <cfw_02_0027>`. If the enterprise project function is not enabled, the value is **0**. |
   +-----------------------+-----------+--------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | fw_instance_id        | No        | String | Firewall ID, which can be obtained by referring to :ref:`Obtaining a Firewall ID <cfw_02_0028>`.                                                                                                                                                                             |
   +-----------------------+-----------+--------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

Request Parameters
------------------

.. table:: **Table 3** Request header parameters

   +--------------+-----------+--------+---------------------------------------------------------------------------------------------------+
   | Parameter    | Mandatory | Type   | Description                                                                                       |
   +==============+===========+========+===================================================================================================+
   | X-Auth-Token | Yes       | String | User token. You can obtain the token by referring to :ref:`Obtaining a User Token <cfw_02_0029>`. |
   +--------------+-----------+--------+---------------------------------------------------------------------------------------------------+
   | Content-Type | Yes       | String | Content type. It can only be set to application/json.                                             |
   +--------------+-----------+--------+---------------------------------------------------------------------------------------------------+

.. table:: **Table 4** Request body parameters

   +--------------+-----------+---------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter    | Mandatory | Type    | Description                                                                                                                                                                                                                                                                                                                                                                                                                 |
   +==============+===========+=========+=============================================================================================================================================================================================================================================================================================================================================================================================================================+
   | dest_rule_id | No        | String  | ID of the target rule. The added rule is placed after this rule. This parameter cannot be left blank when the added rule is not pinned on top, and can be left blank when the added rule is pinned on top. The rule ID can be obtained by calling the :ref:`API for querying protection rules <listaclrules>`. Find the value in **data.records.rule_id** (The period [.] is used to separate different levels of objects). |
   +--------------+-----------+---------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | top          | No        | Integer | Whether to pin on top: **0** (no), **1** (yes).                                                                                                                                                                                                                                                                                                                                                                             |
   +--------------+-----------+---------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | bottom       | No        | Integer | Whether to pin to bottom: **0** (no), **1** (yes).                                                                                                                                                                                                                                                                                                                                                                          |
   +--------------+-----------+---------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

Response Parameters
-------------------

**Status code: 200**

.. table:: **Table 5** Response body parameters

   +-----------+----------------------------------------------------------------------+-------------+
   | Parameter | Type                                                                 | Description |
   +===========+======================================================================+=============+
   | data      | :ref:`OrderRuleId <updateaclruleorder__response_orderruleid>` object | Rule ID.    |
   +-----------+----------------------------------------------------------------------+-------------+

.. _updateaclruleorder__response_orderruleid:

.. table:: **Table 6** OrderRuleId

   ========= ====== ===========
   Parameter Type   Description
   ========= ====== ===========
   id        String Rule ID.
   ========= ====== ===========

**Status code: 400**

.. table:: **Table 7** Response body parameters

   ========== ====== ==================
   Parameter  Type   Description
   ========== ====== ==================
   error_code String Error code.
   error_msg  String Error description.
   ========== ====== ==================

Example Requests
----------------

In the project 9d80d070b6d44942af73c9c3d38e0429, move the rule whose ID is ffe9af47-d893-483b-86e3-ee5242e8cb15 behind the rule whose ID is 69c32dc5-f801-4294-98ee-978b51f97d35.

.. code-block::

   https://{Endpoint}/v1/9d80d070b6d44942af73c9c3d38e0429/acl-rule/order/ffe9af47-d893-483b-86e3-ee5242e8cb15

   {
     "top" : 0,
     "dest_rule_id" : "69c32dc5-f801-4294-98ee-978b51f97d35"
   }

Example Responses
-----------------

**Status code: 200**

Rule sorting response.

.. code-block::

   {
     "data" : {
       "id" : "ffe9af47-d893-483b-86e3-ee5242e8cb15"
     }
   }

**Status code: 400**

Bad Request

.. code-block::

   {
     "error_code" : "00200005",
     "error_msg" : "Object not found."
   }

Status Codes
------------

=========== ======================
Status Code Description
=========== ======================
200         Rule sorting response.
400         Bad Request
401         Unauthorized
403         Forbidden
404         Not Found
500         Internal Server Error
=========== ======================

Error Codes
-----------

See :ref:`Error Codes <errorcode>`.
