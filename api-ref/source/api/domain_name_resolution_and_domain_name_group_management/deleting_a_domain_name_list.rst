:original_name: DeleteDomains.html

.. _DeleteDomains:

Deleting a Domain Name List
===========================

Function
--------

This API is used to delete a domain name list.

URI
---

DELETE /v1/{project_id}/domain-set/domains/{set_id}

.. table:: **Table 1** Path Parameters

   +------------+-----------+--------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter  | Mandatory | Type   | Description                                                                                                                                                                                                                                 |
   +============+===========+========+=============================================================================================================================================================================================================================================+
   | project_id | Yes       | String | Project ID, which can be obtained by calling an API or from the console. For details, see :ref:`Obtaining a Project ID <cfw_02_0015>`.                                                                                                      |
   +------------+-----------+--------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | set_id     | Yes       | String | Domain name group ID, which can be obtained by calling the :ref:`API for querying the domain name group list <listdomainsets>`. Find the value in **data.records.set_id** (The period [.] is used to separate different levels of objects). |
   +------------+-----------+--------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. table:: **Table 2** Query Parameters

   +-----------------------+-----------+--------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter             | Mandatory | Type   | Description                                                                                                                                                                                                                                                                  |
   +=======================+===========+========+==============================================================================================================================================================================================================================================================================+
   | enterprise_project_id | No        | String | Enterprise project ID, which is the ID of a project planned based on organizations. You can obtain the enterprise project ID by referring to :ref:`Obtaining an Enterprise Project ID <cfw_02_0027>`. If the enterprise project function is not enabled, the value is **0**. |
   +-----------------------+-----------+--------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | fw_instance_id        | No        | String | Firewall ID, which can be obtained by referring to :ref:`Obtaining a Firewall ID <cfw_02_0028>`.                                                                                                                                                                             |
   +-----------------------+-----------+--------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

Request Parameters
------------------

.. table:: **Table 3** Request header parameters

   +--------------+-----------+--------+---------------------------------------------------------------------------------------------------+
   | Parameter    | Mandatory | Type   | Description                                                                                       |
   +==============+===========+========+===================================================================================================+
   | X-Auth-Token | Yes       | String | User token. You can obtain the token by referring to :ref:`Obtaining a User Token <cfw_02_0029>`. |
   +--------------+-----------+--------+---------------------------------------------------------------------------------------------------+
   | Content-Type | Yes       | String | Content type. It can only be set to application/json.                                             |
   +--------------+-----------+--------+---------------------------------------------------------------------------------------------------+

.. table:: **Table 4** Request body parameters

   +--------------------+-----------+------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter          | Mandatory | Type             | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
   +====================+===========+==================+=============================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
   | object_id          | Yes       | String           | Protected object ID, which is used to distinguish between Internet border protection and VPC border protection after a cloud firewall is created. You can obtain the ID by calling the :ref:`API for querying firewall instances <listfirewalldetail>`. In the return value, find the ID in **data.records.protect_objects.object_id** (The period [.] is used to separate different levels of objects). If the value of **type** is **0**, the protected object ID belongs to the Internet border. If the value of **type** is **1**, the protected object ID belongs to the VPC border. You can obtain the value of **type** from **data.records.protect_objects.type** (The period [.] is used to separate different levels of objects). |
   +--------------------+-----------+------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | domain_address_ids | Yes       | Array of strings | Domain name ID list. Domain name IDs can be obtained by calling the :ref:`API for querying the domain name list under a domain name group <listdomains>`. Find the value in **data.records.domain_address_id** (The period [.] is used to separate different levels of objects).                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
   +--------------------+-----------+------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

Response Parameters
-------------------

**Status code: 200**

.. table:: **Table 5** Response body parameters

   +-----------+-------------------------------------------------------------------------------------+------------------------------------------------+
   | Parameter | Type                                                                                | Description                                    |
   +===========+=====================================================================================+================================================+
   | data      | :ref:`DomainSetResponseData <deletedomains__response_domainsetresponsedata>` object | Returned data for deleting a domain name list. |
   +-----------+-------------------------------------------------------------------------------------+------------------------------------------------+

.. _deletedomains__response_domainsetresponsedata:

.. table:: **Table 6** DomainSetResponseData

   ========= ====== =======================
   Parameter Type   Description
   ========= ====== =======================
   id        String Domain name group ID.
   name      String Domain name group name.
   ========= ====== =======================

Example Requests
----------------

In project 14181c1245cf4fd786824efe1e2b9388, delete domain names from domain name group 78719348-6d79-477e-acec-676a29842ab2. The firewall ID is 546af3f8-88e9-47f2-a205-2346d7090925, the protected object ID is ae42418e-f077-41a0-9d3b-5b2f5ad9102b, the domain name group ID is 78719348-6d79-477e-acec-676a29842ab2, and the domain list is "b9c23ad8-16d2-4f14-894f-29250c5d27e5", "c36f9462-467b-4303-9734-f9abc38ddb95".

.. code-block::

   https://{Endpoint}/v1/14181c1245cf4fd786824efe1e2b9388/domain-set/domains/78719348-6d79-477e-acec-676a29842ab2?fw_instance_id=546af3f8-88e9-47f2-a205-2346d7090925&enterprise_project_id=default

   {
     "domain_address_ids" : [ "b9c23ad8-16d2-4f14-894f-29250c5d27e5", "c36f9462-467b-4303-9734-f9abc38ddb95" ],
     "object_id" : "ae42418e-f077-41a0-9d3b-5b2f5ad9102b"
   }

Example Responses
-----------------

**Status code: 200**

Return value for deleting a domain name list.

.. code-block::

   {
     "data" : {
       "id" : "78719348-6d79-477e-acec-676a29842ab2",
       "name" : "test26"
     }
   }

Status Codes
------------

=========== =============================================
Status Code Description
=========== =============================================
200         Return value for deleting a domain name list.
=========== =============================================

Error Codes
-----------

See :ref:`Error Codes <errorcode>`.
